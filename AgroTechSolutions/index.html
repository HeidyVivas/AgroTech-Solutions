<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AgroTech Solutions ‚Äî Demo UI</title>
  <meta name="description" content="Sitio demo para AgroTech Solutions: roadmap de sprints, simulador de alertas (email/SMS) y UI multiusuario con roles." />

  <!-- Tailwind via CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            ag: {
              50:  '#f2fbf5',
              100: '#e6f7eb',
              200: '#c7edd2',
              300: '#a7e3b8',
              400: '#6fce89',
              500: '#3bbd5a',
              600: '#2da148',
              700: '#227c37',
              800: '#185a28',
              900: '#113e1b'
            }
          },
          boxShadow: {
            soft: '0 10px 25px -10px rgba(0,0,0,.15)'
          },
          fontFamily: {
            display: ['Inter', 'system-ui', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif'],
            body: ['Inter', 'system-ui', 'Segoe UI', 'Roboto', 'Arial', 'sans-serif']
          }
        }
      }
    }
  </script>

  <!-- Favicon: SVG inline en data-URI (v√°lido y compacto) -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs/%3E%3Ccircle cx='32' cy='32' r='30' fill='%23113e1b'/%3E%3Cg fill='none' stroke='%23a7e3b8' stroke-width='3' stroke-linecap='round'%3E%3Cpath d='M32 44V20'/%3E%3Cpath d='M32 28c5-9 13-9 13 0 0 7-7 9-7 9'/%3E%3Cpath d='M32 28c-5-9-13-9-13 0 0 7 7 9 7 9'/%3E%3Ccircle cx='19' cy='47' r='2' fill='%236fce89'/%3E%3Ccircle cx='45' cy='47' r='2' fill='%236fce89'/%3E%3C/g%3E%3C/svg%3E" />

  <!-- Fuente -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <style>
    .glass { backdrop-filter: blur(10px); background: rgba(255,255,255,.6); }
    .dark .glass { background: rgba(17,24,39,.6); }
  </style>
</head>
<body class="font-body bg-ag-50 text-slate-800 dark:bg-slate-950 dark:text-slate-100">
  <!-- Nav -->
  <header class="sticky top-0 z-50 backdrop-blur bg-white/70 dark:bg-slate-900/60 border-b border-white/0 dark:border-slate-800">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
      <a href="#inicio" class="flex items-center gap-3 group">
        <span class="inline-flex h-9 w-9 items-center justify-center rounded-xl bg-ag-700 text-white shadow-soft"> 
          <!-- Mini logomark -->
          <svg viewBox="0 0 64 64" class="h-6 w-6" aria-hidden="true"><circle cx="32" cy="32" r="28" fill="#3bbd5a"/><g fill="none" stroke="#113e1b" stroke-width="3" stroke-linecap="round"><path d="M32 44V20"/><path d="M32 28c5-9 13-9 13 0 0 7-7 9-7 9"/><path d="M32 28c-5-9-13-9-13 0 0 7 7 9 7 9"/></g></svg>
        </span>
        <div>
          <p class="font-display font-extrabold leading-none tracking-tight">AgroTech Solutions</p>
          <p class="text-xs text-slate-500 -mt-1">Agro inteligente y sostenible</p>
        </div>
      </a>
      <ul class="hidden md:flex items-center gap-6 text-sm">
        <li><a href="#sprints" class="hover:text-ag-700">Sprints</a></li>
        <li><a href="#alertas" class="hover:text-ag-700">Simulador de alertas</a></li>
        <li><a href="#usuarios" class="hover:text-ag-700">Multiusuario</a></li>
        <li><a href="#contacto" class="hover:text-ag-700">Contacto</a></li>
      </ul>
      <div class="flex items-center gap-2">
        <button id="darkToggle" class="px-3 py-2 rounded-xl border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800" aria-label="Cambiar modo oscuro">
          <span class="inline md:hidden">üåì</span>
          <span class="hidden md:inline">Modo</span>
        </button>
        <a href="#contacto" class="hidden sm:inline-flex px-4 py-2 rounded-xl bg-ag-700 text-white shadow-soft hover:bg-ag-800">Demo</a>
      </div>
    </nav>
  </header>

  <!-- Hero -->
  <section id="inicio" class="relative overflow-hidden">
    <div class="absolute -top-24 -right-24 h-72 w-72 rounded-full bg-ag-300 blur-3xl opacity-50"></div>
    <div class="absolute -bottom-24 -left-24 h-72 w-72 rounded-full bg-ag-400 blur-3xl opacity-40"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16 md:py-24 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h1 class="text-4xl md:text-5xl font-display font-extrabold tracking-tight leading-tight">Monitoreo agr√≠cola <span class="text-ag-700">en tiempo real</span></h1>
        <p class="mt-4 text-lg text-slate-600 dark:text-slate-300">Sensores, drones e IA para optimizar riego, fertilizaci√≥n y salud del cultivo. Plataforma responsiva con accesibilidad AA, animaciones sutiles y microinteracciones.</p>
        <div class="mt-6 flex flex-wrap gap-3">
          <a href="#sprints" class="px-4 py-2 rounded-xl bg-ag-700 text-white shadow-soft hover:bg-ag-800">Ver sprints</a>
          <a href="#alertas" class="px-4 py-2 rounded-xl border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Probar alertas</a>
        </div>
        <ul class="mt-6 grid sm:grid-cols-3 gap-4 text-sm">
          <li class="p-4 rounded-2xl glass shadow-soft">
            <p class="font-semibold">Sensores</p>
            <p class="text-slate-600 dark:text-slate-300">Humedad, pH, temp., nutrientes</p>
          </li>
          <li class="p-4 rounded-2xl glass shadow-soft">
            <p class="font-semibold">Drones</p>
            <p class="text-slate-600 dark:text-slate-300">Mapeo NDVI y vigilancia</p>
          </li>
          <li class="p-4 rounded-2xl glass shadow-soft">
            <p class="font-semibold">Paneles solares</p>
            <p class="text-slate-600 dark:text-slate-300">Autonom√≠a energ√©tica</p>
          </li>
        </ul>
      </div>
      <div class="relative">
        <div class="aspect-[16/10] rounded-3xl overflow-hidden shadow-soft border border-slate-200 dark:border-slate-800 bg-gradient-to-br from-ag-100 via-white to-ag-200 flex items-center justify-center">
          <!-- Ilustraci√≥n SVG para reforzar concepto (accesible y liviana) -->
          <svg viewBox="0 0 900 560" class="w-full h-full" role="img" aria-label="Ilustraci√≥n de finca inteligente con invernadero y drones">
            <defs>
              <linearGradient id="g1" x1="0" x2="1">
                <stop offset="0%" stop-color="#e6f7eb"/>
                <stop offset="100%" stop-color="#c7edd2"/>
              </linearGradient>
            </defs>
            <rect width="900" height="560" fill="url(#g1)"/>
            <g opacity="0.8">
              <rect x="520" y="170" width="260" height="170" rx="18" fill="#ffffff" stroke="#3bbd5a" stroke-width="6"/>
              <rect x="550" y="195" width="200" height="12" rx="6" fill="#a7e3b8"/>
              <rect x="550" y="220" width="120" height="12" rx="6" fill="#6fce89"/>
              <rect x="550" y="245" width="160" height="12" rx="6" fill="#3bbd5a"/>
            </g>
            <g>
              <rect x="90" y="290" width="720" height="200" fill="#3bbd5a" opacity=".15"/>
              <!-- surcos -->
              <g stroke="#227c37" stroke-width="3" opacity=".35">
                <path d="M0 340 C 200 330, 700 330, 900 340"/>
                <path d="M0 370 C 220 360, 680 360, 900 370"/>
                <path d="M0 400 C 220 390, 680 390, 900 400"/>
                <path d="M0 430 C 220 420, 680 420, 900 430"/>
              </g>
            </g>
            <!-- Invernadero -->
            <g>
              <path d="M240 360 q120-120 240 0 v90 h-240z" fill="#a7e3b8" opacity=".3"/>
              <path d="M240 360 q120-120 240 0" fill="none" stroke="#185a28" stroke-width="5"/>
              <path d="M480 360 v90" stroke="#185a28" stroke-width="5"/>
              <path d="M240 360 v90" stroke="#185a28" stroke-width="5"/>
              <g fill="#6fce89" opacity=".9">
                <rect x="275" y="320" width="160" height="16" rx="3"/>
                <rect x="275" y="340" width="160" height="16" rx="3"/>
              </g>
            </g>
            <!-- Drones -->
            <g>
              <circle cx="640" cy="130" r="16" fill="#113e1b"/>
              <rect x="610" y="120" width="60" height="6" rx="3" fill="#113e1b"/>
              <rect x="635" y="100" width="6" height="60" rx="3" fill="#113e1b"/>
              <circle cx="260" cy="150" r="14" fill="#113e1b"/>
              <rect x="235" y="140" width="50" height="6" rx="3" fill="#113e1b"/>
              <rect x="255" y="122" width="6" height="50" rx="3" fill="#113e1b"/>
            </g>
          </svg>
        </div>
      </div>
    </div>
  </section>

  <!-- Sprints / Roadmap -->
  <section id="sprints" class="py-16 md:py-24 bg-white dark:bg-slate-950">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-10 flex items-end justify-between gap-6">
        <div>
          <h2 class="text-3xl md:text-4xl font-display font-extrabold">Roadmap de sprints</h2>
          <p class="text-slate-600 dark:text-slate-300 mt-2">Entregables medibles, priorizados por valor y riesgo. Cada card incluye criterio de aceptaci√≥n.</p>
        </div>
        <div class="hidden md:flex items-center gap-3 text-sm">
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-ag-100 text-ag-800">‚úîÔ∏è Listo</span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-yellow-100 text-yellow-800">‚è≥ En curso</span>
          <span class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-slate-100 text-slate-800">üóìÔ∏è Pr√≥ximo</span>
        </div>
      </div>

      <ol class="relative border-s border-l-2 border-ag-300 pl-6 grid gap-8">
        <!-- Sprint 1 -->
        <li class="group">
          <div class="absolute -left-[11px] mt-2 h-5 w-5 rounded-full bg-ag-600 ring-4 ring-ag-200"></div>
          <div class="p-6 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/50 shadow-soft">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-bold">Sprint 1 ‚Äî Infra & Sensores <span class="ml-2 text-xs px-2 py-1 rounded-full bg-ag-100 text-ag-800">‚úîÔ∏è</span></h3>
              <p class="text-sm text-slate-500">Duraci√≥n: 2 semanas</p>
            </div>
            <ul class="mt-3 text-sm list-disc pl-5 space-y-1">
              <li>Setup backend (API REST), autenticaci√≥n b√°sica, tablero inicial.</li>
              <li>Lectura de sensores: humedad, temperatura y pH.</li>
              <li>Criterio: datos visibles en dashboard en &lt; 5 s.</li>
            </ul>
          </div>
        </li>
        <!-- Sprint 2 -->
        <li class="group">
          <div class="absolute -left-[11px] mt-2 h-5 w-5 rounded-full bg-yellow-500 ring-4 ring-yellow-100"></div>
          <div class="p-6 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/50 shadow-soft">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-bold">Sprint 2 ‚Äî Alertas y Reglas <span class="ml-2 text-xs px-2 py-1 rounded-full bg-yellow-100 text-yellow-800">‚è≥</span></h3>
              <p class="text-sm text-slate-500">Duraci√≥n: 2 semanas</p>
            </div>
            <ul class="mt-3 text-sm list-disc pl-5 space-y-1">
              <li>Motor de reglas: umbrales por cultivo y variable.</li>
              <li>Canales de notificaci√≥n: correo y SMS (simulaci√≥n).</li>
              <li>Criterio: alerta emitida cuando humedad &lt; 25%.</li>
            </ul>
          </div>
        </li>
        <!-- Sprint 3 -->
        <li class="group">
          <div class="absolute -left-[11px] mt-2 h-5 w-5 rounded-full bg-slate-400 ring-4 ring-slate-200"></div>
          <div class="p-6 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/50 shadow-soft">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-bold">Sprint 3 ‚Äî Drones & NDVI <span class="ml-2 text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-800">üóìÔ∏è</span></h3>
              <p class="text-sm text-slate-500">Duraci√≥n: 2 semanas</p>
            </div>
            <ul class="mt-3 text-sm list-disc pl-5 space-y-1">
              <li>Mapa t√©rmico y salud del cultivo (capa NDVI).</li>
              <li>Ruta de vuelo y carga de im√°genes.</li>
              <li>Criterio: mosaico generado &lt; 10 min.</li>
            </ul>
          </div>
        </li>
        <!-- Sprint 4 -->
        <li class="group">
          <div class="absolute -left-[11px] mt-2 h-5 w-5 rounded-full bg-slate-400 ring-4 ring-slate-200"></div>
          <div class="p-6 rounded-2xl border border-slate-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/50 shadow-soft">
            <div class="flex items-center justify-between">
              <h3 class="text-xl font-bold">Sprint 4 ‚Äî Roles & Auditor√≠a <span class="ml-2 text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-800">üóìÔ∏è</span></h3>
              <p class="text-sm text-slate-500">Duraci√≥n: 2 semanas</p>
            </div>
            <ul class="mt-3 text-sm list-disc pl-5 space-y-1">
              <li>RBAC: administrador, t√©cnico y visor.</li>
              <li>Historial de cambios y exportaci√≥n.</li>
              <li>Criterio: permisos aplicados por vista.</li>
            </ul>
          </div>
        </li>
      </ol>
    </div>
  </section>

  <!-- Simulador de alertas (correo / SMS) -->
  <section id="alertas" class="py-16 md:py-24 bg-ag-50 dark:bg-slate-950/50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8">
        <h2 class="text-3xl md:text-4xl font-display font-extrabold">Simulador de alertas</h2>
        <p class="text-slate-600 dark:text-slate-300 mt-2">El sistema env√≠a notificaciones autom√°ticas si un valor cr√≠tico es superado. Prueba con un umbral y una lectura simulada.</p>
      </div>

      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Panel de configuraci√≥n -->
        <div class="p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
          <form id="alertForm" class="grid sm:grid-cols-2 gap-4" onsubmit="return false" aria-label="Formulario de simulaci√≥n de alertas">
            <label class="block text-sm">
              <span class="font-semibold">Variable</span>
              <select id="var" class="mt-1 w-full rounded-xl border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2">
                <option value="Humedad">Humedad de suelo (%)</option>
                <option value="Temperatura">Temperatura (¬∞C)</option>
                <option value="pH">pH</option>
              </select>
            </label>
            <label class="block text-sm">
              <span class="font-semibold">Umbral cr√≠tico</span>
              <input id="thr" type="number" value="25" class="mt-1 w-full rounded-xl border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2" />
            </label>
            <label class="block text-sm">
              <span class="font-semibold">Lectura simulada</span>
              <input id="val" type="number" value="18" class="mt-1 w-full rounded-xl border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2" />
            </label>
            <label class="block text-sm">
              <span class="font-semibold">Canal</span>
              <div class="mt-1 flex gap-3">
                <label class="inline-flex items-center gap-2"><input type="checkbox" id="emailChk" checked class="rounded"> Email</label>
                <label class="inline-flex items-center gap-2"><input type="checkbox" id="smsChk" class="rounded"> SMS</label>
              </div>
            </label>
            <div class="sm:col-span-2 flex items-center gap-3 mt-2">
              <button id="simulateBtn" class="px-4 py-2 rounded-xl bg-ag-700 text-white hover:bg-ag-800">Simular</button>
              <span id="status" class="text-sm text-slate-500"></span>
            </div>
          </form>
        </div>

        <!-- Vista de mensajes emitidos -->
        <div class="grid gap-4">
          <div class="p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
            <h3 class="font-bold mb-3">Correo de alerta (preview)</h3>
            <div id="emailPreview" class="rounded-xl border border-slate-200 dark:border-slate-800 p-4 text-sm bg-ag-50/50 dark:bg-slate-800/40">
              <p class="text-slate-500">No hay mensajes a√∫n.</p>
            </div>
          </div>
          <div class="p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
            <h3 class="font-bold mb-3">SMS de alerta (preview)</h3>
            <div id="smsPreview" class="rounded-xl border border-slate-200 dark:border-slate-800 p-4 text-sm bg-ag-50/50 dark:bg-slate-800/40">
              <p class="text-slate-500">No hay mensajes a√∫n.</p>
            </div>
          </div>
        </div>
      </div>

      <!-- Toast -->
      <div id="toast" role="status" aria-live="polite" class="hidden fixed bottom-6 right-6 px-4 py-3 rounded-xl bg-ag-700 text-white shadow-soft">
        üö® Alerta enviada
      </div>
    </div>
  </section>

  <!-- Multiusuario / Roles -->
  <section id="usuarios" class="py-16 md:py-24 bg-white dark:bg-slate-950">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="mb-8">
        <h2 class="text-3xl md:text-4xl font-display font-extrabold">Multiusuario con roles</h2>
        <p class="text-slate-600 dark:text-slate-300 mt-2">El mismo cliente puede crear varios usuarios (administrador y t√©cnico). Cambia de rol para ver c√≥mo se ajustan los permisos.</p>
      </div>

      <div class="grid lg:grid-cols-2 gap-8">
        <!-- Selector de rol y permisos -->
        <div class="p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
          <div class="flex items-center justify-between gap-4">
            <label class="text-sm font-semibold">Rol activo</label>
            <select id="roleSelect" class="rounded-xl border-slate-300 dark:border-slate-700 bg-white dark:bg-slate-800 px-3 py-2">
              <option>Administrador</option>
              <option>T√©cnico</option>
            </select>
          </div>
          <div class="mt-4 grid sm:grid-cols-2 gap-4 text-sm">
            <div class="p-4 rounded-xl bg-ag-50/60 dark:bg-slate-800/40 border border-slate-200 dark:border-slate-800">
              <p class="font-bold mb-2">Administrador</p>
              <ul class="space-y-1 list-disc pl-4">
                <li>Gestiona usuarios y roles</li>
                <li>Define reglas y umbrales</li>
                <li>Acceso a auditor√≠a y exportaci√≥n</li>
              </ul>
            </div>
            <div class="p-4 rounded-xl bg-ag-50/60 dark:bg-slate-800/40 border border-slate-200 dark:border-slate-800">
              <p class="font-bold mb-2">T√©cnico</p>
              <ul class="space-y-1 list-disc pl-4">
                <li>Consulta tablero y alertas</li>
                <li>Registra tareas de campo</li>
                <li>Configura dispositivos asignados</li>
              </ul>
            </div>
          </div>
        </div>

        <!-- Demo de interfaz condicionada por rol -->
        <div class="p-6 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 shadow-soft">
          <div class="flex items-center justify-between mb-4">
            <h3 class="font-bold">Panel de control</h3>
            <span id="roleBadge" class="text-xs px-2 py-1 rounded-full bg-slate-100 text-slate-800">Administrador</span>
          </div>
          <div class="grid sm:grid-cols-3 gap-4">
            <button data-role="Administrador" class="action-btn px-3 py-2 rounded-xl bg-ag-700 text-white hover:bg-ag-800">Crear usuario</button>
            <button data-role="Administrador" class="action-btn px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Exportar auditor√≠a</button>
            <button data-role="Administrador,T√©cnico" class="action-btn px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Ver alertas</button>
            <button data-role="T√©cnico" class="action-btn px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Registrar riego</button>
            <button data-role="T√©cnico" class="action-btn px-3 py-2 rounded-xl border border-slate-300 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-800">Sincronizar sensor</button>
            <button data-role="Administrador,T√©cnico" class="action-btn px-3 py-2 rounded-xl bg-ag-700 text-white hover:bg-ag-800">Dashboard</button>
          </div>
          <p class="text-xs text-slate-500 mt-3">Los botones se activan/desactivan seg√∫n el rol seleccionado.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contacto / Footer -->
  <section id="contacto" class="py-16 md:py-24 bg-ag-900 text-ag-50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 grid md:grid-cols-2 gap-10 items-center">
      <div>
        <h2 class="text-3xl md:text-4xl font-display font-extrabold">¬øListo para una demo?</h2>
        <p class="mt-2 text-ag-100">Integramos hardware, IA y UX para decisi√≥n agron√≥mica en tiempo real.</p>
      </div>
      <form class="grid sm:grid-cols-2 gap-3" onsubmit="event.preventDefault(); alert('Gracias, nos pondremos en contacto.');">
        <input required placeholder="Nombre" class="px-3 py-2 rounded-xl bg-ag-800 placeholder-ag-200"/>
        <input required type="email" placeholder="Email" class="px-3 py-2 rounded-xl bg-ag-800 placeholder-ag-200"/>
        <input placeholder="Empresa" class="px-3 py-2 rounded-xl bg-ag-800 placeholder-ag-200 sm:col-span-2"/>
        <button class="px-4 py-2 rounded-xl bg-ag-500 text-ag-900 font-semibold hover:bg-ag-400">Solicitar demo</button>
      </form>
    </div>
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-10 flex items-center justify-between text-sm text-ag-200">
      <p>¬© <span id="year"></span> AgroTech Solutions</p>
      <a href="#inicio" class="underline">Volver arriba</a>
    </div>
  </section>

  <!-- Scripts de interacci√≥n accesibles y sin dependencias -->
  <script>
    // Dark mode recuerda preferencia
    const root = document.documentElement;
    const saved = localStorage.getItem('agro_dark');
    if (saved === '1' || (!saved && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      root.classList.add('dark');
    }
    document.getElementById('darkToggle').addEventListener('click', () => {
      root.classList.toggle('dark');
      localStorage.setItem('agro_dark', root.classList.contains('dark') ? '1' : '0');
    });

    // A√±o din√°mico footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Simulador de alertas
    const form = document.getElementById('alertForm');
    const status = document.getElementById('status');
    const toast = document.getElementById('toast');
    const emailPrev = document.getElementById('emailPreview');
    const smsPrev = document.getElementById('smsPreview');

    document.getElementById('simulateBtn').addEventListener('click', () => {
      const variable = document.getElementById('var').value;
      const thr = parseFloat(document.getElementById('thr').value);
      const val = parseFloat(document.getElementById('val').value);
      const sendEmail = document.getElementById('emailChk').checked;
      const sendSMS = document.getElementById('smsChk').checked;

      if (Number.isNaN(thr) || Number.isNaN(val)) {
        status.textContent = 'Por favor ingresa valores num√©ricos v√°lidos.';
        return;
      }
      status.textContent = 'Procesando regla‚Ä¶';

      const breached = (variable === 'Humedad') ? (val < thr) : (val > thr);
      setTimeout(() => {
        if (!breached) {
          status.textContent = 'Sin alerta: regla no superada.';
          return;
        }
        status.textContent = 'Regla superada. Generando notificaciones‚Ä¶';
        const ts = new Date().toLocaleString();
        const summary = `ALERTA ${variable}: lectura ${val} (umbral ${thr}) ‚Äî ${ts}`;
        if (sendEmail) {
          emailPrev.innerHTML = `<div class='text-xs text-slate-500 mb-2'>Para: agronomo@cliente.com</div>
            <div class='font-semibold'>AgroTech ‚Äî Alerta de ${variable}</div>
            <p class='mt-1'>${summary}</p>
            <ul class='mt-2 list-disc pl-5'>
              <li>Ubicaci√≥n: Lote 3</li>
              <li>Acci√≥n sugerida: activar riego autom√°tico</li>
              <li>Prioridad: Alta</li>
            </ul>`;
        }
        if (sendSMS) {
          smsPrev.innerHTML = `<div>‚ö†Ô∏è ${summary}. Revisar App.</div>`;
        }
        // Toast visual
        toast.classList.remove('hidden');
        setTimeout(() => toast.classList.add('hidden'), 2200);
        status.textContent = 'Alertas emitidas (simulaci√≥n).';
      }, 650);
    });

    // Roles
    const roleSelect = document.getElementById('roleSelect');
    const roleBadge = document.getElementById('roleBadge');
    const actionButtons = Array.from(document.querySelectorAll('.action-btn'));
    function applyRole(role) {
      roleBadge.textContent = role;
      actionButtons.forEach(btn => {
        const allowed = (btn.getAttribute('data-role') || '').split(',');
        const ok = allowed.map(s => s.trim()).includes(role);
        btn.disabled = !ok;
        btn.classList.toggle('opacity-40', !ok);
        btn.classList.toggle('cursor-not-allowed', !ok);
      });
    }
    roleSelect.addEventListener('change', (e) => applyRole(e.target.value));
    applyRole(roleSelect.value);
  </script>
</body>
</html>
